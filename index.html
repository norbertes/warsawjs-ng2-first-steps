<!DOCTYPE html>
<html lang="en">
<head>
    <title>WarsawJS Angular2: First Steps</title>

    <meta charset="utf-8"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Shower Theme -->
    <link rel="stylesheet" href="vendors/shower-ribbon/styles/screen-16x10.css"/>
    <link rel="stylesheet" href="vendors/shower-warsawjs/styles/main.css"/>

    <!-- Prism.js -->
    <link rel="stylesheet" href="vendors/prism/prism.css"/>
    <link rel="stylesheet" href="vendors/prism/custom-prism.css"/>
</head>
<body class="shower list">
    <header class="caption">
        <h1>WarsawJS Slides: Template</h1>
        <p>We talk about JavaScript. Each month in Warsaw, Poland.</p>
    </header>

    <section class="slide front-page">
        <div class="logo">
            <!-- Logo WarsawJS -->
            <img src="pictures/logo/warsawjs-logo-light.png">
        </div>
        <div class="details">
            <!-- 1. Avatar -->
            <img src="pictures/rome.jpg"
                 alt="Norbert Sienkiewicz"
                 width="200"
                 height="200"
            />

            <!-- 2. Speaker -->
            <h2>Norbert Sienkiewicz</h2>

            <!-- 3. Presentation title -->
            <h2><strong>"Angular2: First Steps"</strong></h2>

            <!-- 4. Presentation date -->
            <h2>2016-04-13</h2>

            <!-- 5. Contact the speaker -->
            <h2>
              <a href="https://twitter.com/nsienkiewicz" target="_blank">
                @nsienkiewicz
              </a>
            </h2>
        </div>
    </section>

    <section class="slide">
        <h2>Quick votes part 1:</h2>
        <ul>
            <li>Who have worked with ng1?</li>
            <li>Who have made hello world in ng2?</li>
            <li>Who have worked with ng2 in some project?</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Agenda</h2>
        <ol>
            <li class="next">TypeScript</li>
            <li class="next">Angular2 dependencies</li>
            <li class="next">Angular2 main elements</li>
            <ol>
              <li class="next">New syntax</li>
              <li class="next">Webcomponents</li>
              <li class="next">Observables</li>
              <li class="next">Change detection</li>
            </ol>
            <li class="next">Issues</li>
            <li class="next">Summary</li>
        </ol>
    </section>

    <section class="slide">
      <h2>TypeScript</h2>
      <ul>
        <li>Typed superset of JavaScript</li>
        <li>Better static verification of code</li>
        <li>It's easier to find a bug (also harder to get one)</li>
        <li>You're writing more describing itself code</li>
        <li>It's an option</li>
      </ul>
    </section>

    <section class="slide">
      <h2>TypeScript - support</h2>
      <img src="pictures/transpilators_compare.png"
           width="100%"
      />
    </section>

    <section class="slide">
      <h2>Angular2 dependencies</h2>
      <ul>
        <li>RxJS</li>
        <li>Zones</li>
        <li>Reflect-metadata</li>
        <li>ES6-shim</li>
        <li>ES6-promise</li>
      </ul>
    </section>

    <section class="slide">
      <h2>Y Angular2?</h2>
      <ul>
        <li>Many things has changed in interwebs since 2010</li>
        <li>No more fancy abstractions (&, =, @)</li>
        <li>No more $digest loop or $scope</li>
        <li>Google know how to roll</li>
        <li>Ng2 = Ng1 - fancy abstractions - bad programming practices</li>
      </ul>
    </section>

    <section class="slide">
      <h2 class="shout">Angular2 syntax</h2>
    </section>

    <section class="slide prism">
      <h2>Getter</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
          <code>
@Component({
  selector: 'play-button',
  template: '<\button class="play-button"
                      (click)="togglePlay()">
             <\/button>'
})
export class PlayButton {
  constructor(private el: ElementRef) {}
  ngAfterViewInit() {
    this.audio = this.el.nativeElement.querySelector('audio')
  }
  togglePlay() {
    this.audio.play();
  }
}
          </code>
      </pre>
    </section>

    <section class="slide prism">
      <h2>Setter</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
          <code>
@Component({
  selector: 'album-list',
  directives: [AlbumItem],
  pipes: [PhraseFilter],
  template: '<\album-item *ngFor="#album of searchResults.albums.items
                                  | phraseFilter:'name':filterPhrase"
                          [item]="album">
             <\/album-item>'
})
export class PlayButton {
  constructor(private searchService: SearchService) {}
  getData(phrase:string = '') {
    this.searchService.getResults(phrase)
    .subscribe(
      response => this.searchResults = response,
      error => console.log(error)
    );
  }
}
          </code>
      </pre>
    </section>

    <section class="slide prism">
      <h2>Pipe</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
          <code>
import { Pipe } from 'angular2/core';

@Pipe({
  name: 'phraseFilter'
})
export class PhraseFilter {
  transform(
    collection: Object[],
    [field = 'name', phrase = '']: [string, string]
  ) {
    return collection.filter( (el) => el[field].toLowerCase().indexOf(phrase) !== -1);
  }
}
          </code>
      </pre>
    </section>

    <section class="slide prism">
      <h2>Imports</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
        <code>
import { Control } from 'angular2/common';
import {
  Component,
  EventEmitter,
  Input,
  Output
} from 'angular2/core';
import { URLSearchParams } from 'angular2/http';
import { ROUTER_DIRECTIVES, Location, RouteParams } from 'angular2/router';

import { Observable } from 'rxjs/Observable';
import 'rxjs/add/operator/debounceTime';

import { AlbumItem } from './../album/album-item.ts';
import { SearchService } from './../search/search.service.ts';
import { OrderBy } from './../shared/pipes/orderBy.ts';
      </code>
    </pre>
    </section>

    <section class="slide prism">
      <h2>Input/Output</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
        <code>
<\navbar phrase="phraseVar" (filterPhrase)="updatePhrase($event)"><\/navbar>

@Component({
  selector: 'navbar',
  template: `<\div> {{phrase}} <\input #searchbox type="text" [ngFormControl]="term" /><\/div>`
})
export class Navbar {
  term: Control = new Control();
  @Input() phrase: string;
  @Output() filterPhrase: EventEmitter<\any> = new EventEmitter();
  constructor() {
    this.term.valueChanges
             .debounceTime(500)
             .subscribe((value) => this.filterPhrase.emit(value));
  }
}
      </code>
    </pre>
    </section>

    <section class="slide">
      <h2>Component vs Directive</h2>
      <ul>
        <li>Attribute directives can change appearance or behavior of a DOM element (NgStyle)</li>
        <li class="next">Structural directives changes DOM by adding/removing elements (NgIf, NgFor, NgSwitch)</li>
        <li class="next">Components are directives with templates (views)</li>
      </ul>
    </section>

    <section class="slide">
      <h2>Quick overview</h2>
      <ul>
        <li>Much more verbose/less abstract</li>
        <li>All elements are just classes with annotations</li>
        <li>No more providers/services/factories/constants/values - just services</li>
        <li>Bootstraped service != component service</li>
        <li>More modular approach (in application and dependencies)</li>
        <li class="next">Shadow DOM</li>
        <li class="next">Awesome change detection</li>
        <li class="next">Observables concept</li>
      </ul>
    </section>

    <section class="slide prism">
      <h2>Shadow DOM</h2>
        <li>Increasing reusability of components</li>
        <li>ViewEncapsulation (Emulated, Native, None)</li>
        <pre style="font-size: 14px;" class="language-javascript line-numbers">
          <code>
 <\style>.foo { background: green; }<\/style>
 (...)
<\custom-element class="foo">
  text
 <\/custom-element>

import { ViewEncapsulation } from 'angular2/core';
@Component({
  styles: [`.zippy {background: green;}`],
  encapsulation: ViewEncapsulation.Emulated
})
        </code>
      </pre>
    </section>

    <section class="slide">
      <h2>What is change detection?</h2>
      <blockquote>
        NG1 (Dirty checking): "I have no idea what changed, so I'll just check everything that may need updating."
        <br><br>React (Virtual DOM): "I have no idea what changed so I'll just re-render everything and see what's different now."
        <br><br>NG2 (Zones): "I know where and what've changed, so I'll refresh this component."
      </blockquote>
    </section>

    <section class="slide">
      <h2>NG2 CD structure</h2>
      <ul>
        <li>One directional flow</li>
        <li>Each component has got own change detector</li>
        <li>...which is created in runtime (on app bootstrap)</li>
        <li>Monomorphism (VM friendly)</li>
        <li class="next">We can control change detection in each component individually</li>
      </ul>
    </section>

    <section class="slide">
      <h2>What can Zone do?</h2>
      <ul>
        <li>Fork</li>
        <li>Add callback methods (on creation, before/after task)</li>
        <li>Add monkey-patched hooks for asyncs</li>
      </ul>
    </section>

    <section class="slide">
      <h2>Zone flow in ng2</h2>
      <ul>
        <li>NG2 attaches own zone's tasks (NgZone)</li>
        <li>Subscribe for event which will occur after any Components fn call</li>
        <li>Not allowed to have sideeffects (throws an error after 1st time) </li>
        <li>Detect changes in entire application</li>
        <li class="next">...or better</li>
      </ul>
    </section>

    <section class="slide">
        <h2>Quick votes part 2:</h2>
        <ul>
            <li>Who know what is immutability?</li>
            <li>Who know what are observables?</li>
        </ul>
    </section>

    <section class="slide">
      <h2>Change detection in NG2</h2>
      <ul>
        <li>Primitives vs objects</li>
        <li>CD checks reference first</li>
        <li>e.g. Pipes must return new ref to trigger change</li>
        <li>We can reduce number of checks</li>
        <li>We can reduce moments when checks are made</li>
      </ul>
    </section>

    <section class="slide prism">
      <h2>Change detection in NG2</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
        <code>
<user-profile user="userData"></user-profile>

@Component({
  selector: 'user-profile'
  template: `<\span>{{ user.first_name }} {{ user.last_name }}<\/span>`,
  changeDetection: ChangeDetectionStrategy.OnPush
})
class UserProfile {
  @Input() user;
}
        </code>
      </pre>
    </section>

    <section class="slide prism">
      <h2>Change detection in NG2</h2>
      <pre style="font-size: 14px;" class="language-javascript line-numbers">
        <code>
@Component({
  selector: 'user-profile'
  template: `<\span>{{ profile_name }}<\/span>`,
  changeDetection: ChangeDetectionStrategy.OnPush
})
class UserProfile {
  @Input() changedProfileStream:Observable<\any>;
  profile_name:string = '';

  constructor(private cd: ChangeDetectorRef) {}

  ngOnInit() {
     this.changedProfileStream.subscribe((data) => {
       this.profile_name = data.profile_name;
       this.cd.markForCheck();
     })
   }
}
        </code>
      </pre>
    </section>
    <section class="slide">
      <h2>ChangeDetectionStrategy</h2>
      <ul>
        <li>CheckOnce</li>
        <li>Checked</li>
        <li>CheckAlways (default)</li>
        <li>Detached</li>
        <li>OnPush</li>
      </ul>
    </section>

    <section class="slide">
      <h2>Observables</h2>
      <ul>
      </ul>
    </section>

    <section class="slide">
        <h2>Slide Header</h2>

        <p>Echo Park 8-bit sustainable umami deep v Kickstarter. DIY cliche typewriter brunch, Odd Future sriracha pickled aesthetic. Farm-to-table bespoke fingerstache, kale chips umami brunch letterpress.</p>
        <p>Whatever authentic disrupt, you probably haven't heard of them direct trade mlkshk Etsy. Gluten-free roof party plaid four loko quinoa.</p>
        <p class="note">Echo Park 8-bit sustainable umami deep v Kickstarter.</p>
    </section>

    <section class="slide">
        <h2>Inline Elements</h2>

        <p>Retro meh brunch <a href="">aesthetic</a> Cosby sweater Shoreditch. Banksy Tumblr
            <strong>sriracha</strong>, flexitarian pug chia master cleanse vinyl
            <em>wayfarers</em> fanny pack bespoke Helvetica <b>roof</b> party. Messenger bag retro cred
            <i>Portland</i> next level. Yr stumptown Schlitz Carles deep v small batch. Hella sustainable messenger bag,
            <mark>leggings</mark>
            skateboard literally<sup>1</sup> bicycle rights H<sub>2</sub>0 mumblecore banh mi DIY VHS. Semiotics four loko street art asymmetrical. Asymmetrical
            <code>&lt;paleo&gt;</code> you probably haven’t heard of.
        </p>

        <footer class="footer">
            <p>Retro meh brunch <a href="">aesthetic</a> Cosby sweater Shoreditch. Banksy Tumblr
                <strong>sriracha</strong>, flexitarian pug chia master cleanse vinyl
                <em>wayfarers</em> fanny pack bespoke Helvetica <b>roof</b> party. Messenger bag retro cred
                <i>Portland</i> next level. Yr stumptown Schlitz Carles deep v small batch. Hella sustainable messenger bag,
                <mark>leggings</mark>
                skateboard literally<sup>1</sup> bicycle rights H<sub>2</sub>0 mumblecore banh mi DIY VHS. Semiotics four loko street art asymmetrical. Asymmetrical
                <code>&lt;paleo&gt;</code> you probably haven’t heard of.
            </p>
        </footer>
    </section>

    <section class="slide">
        <h2>Columns</h2>
        <p class="double">Echo Park 8-bit sustainable umami deep v Kickstarter. DIY cliche typewriter brunch, Odd Future sriracha pickled aesthetic. Farm-to-table bespoke fingerstache, kale chips umami brunch American Apparel letterpress. Whatever authentic disrupt, you probably haven't heard of them direct trade mlkshk Etsy. Gluten-free roof party plaid American Apparel four loko quinoa. Echo Park 8-bit sustainable.</p>
    </section>

    <section class="slide">
        <h2>Quotes</h2>
        <blockquote>
            <p>Flannel bicycle rights locavore selfies skateboard. Authentic fanny pack paleo four loko bespoke. Artisan tattooed chia XOXO ennui, lomo disrupt 8-bit art party Tumblr scenester.</p>
        </blockquote>
        <figure>
            <blockquote>
                <p>Post-ironic fashion axe flexitarian, Tonx narwhal messenger bag Tumblr. Portland gentrify deep v kale chips literally.</p>
            </blockquote>
            <figcaption>Yours Truly</figcaption>
        </figure>
    </section>

    <section class="slide">
        <h2>Nested Lists</h2>
        <ol>
            <li>Literally viral vegan, ugh drinking vinegar photo booth</li>
            <li>Wes Anderson chillwave Marfa pour-over Etsy banh mi</li>
            <li>Ethnic polaroid lo-fi iPhone ennui
                <ul>
                    <li>Yr wayfarers before they sold out Kickstarter asymmetrical</li>
                    <li>Irony flexitarian readymade quinoa, kogi bespoke meggings narwhal</li>
                    <li>Skateboard Etsy twee artisan Echo Park</li>
                </ul>
            </li>
            <li>Tonx kitsch fingerstache readymade, retro single-origin coffee</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Simple Table</h2>
        <table>
            <tr>
                <th scope="col">Gentrify</th>
                <th>Twee</th>
                <th>Artisan</th>
                <th>Banksy</th>
            </tr>
            <tr>
                <th scope="row">Messenger</th>
                <td>Mixtape</td>
                <td>Small batch</td>
                <td>Bicycle rights</td>
            </tr>
            <tr>
                <th scope="row">Meggings</th>
                <td>Freegan</td>
                <td>Retro biodiesel</td>
                <td>Slow-carb</td>
            </tr>
            <tr>
                <th scope="row">Vegan</th>
                <td>Occupy</td>
                <td>Normcore</td>
                <td>Put a bird on it</td>
            </tr>
            <tr>
                <th scope="row">Next level</th>
                <td>Selfies</td>
                <td>Sustainable</td>
                <td>Organic</td>
            </tr>
            <tr>
                <th scope="row">Umami</th>
                <td>Asymmetrical</td>
                <td>Keytar</td>
                <td>Craft beer</td>
            </tr>
            <tr>
                <th scope="row">Biodiesel</th>
                <td>Haven’t heard</td>
                <td>Skateboard</td>
                <td>Farm-to-table</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <h2>Striped Table</h2>
        <table class="striped">
            <tr>
                <th scope="col">Gentrify</th>
                <th>Twee</th>
                <th>Artisan</th>
                <th>Banksy</th>
            </tr>
            <tr>
                <th scope="row">Messenger</th>
                <td>Mixtape</td>
                <td>Small batch</td>
                <td>Bicycle rights</td>
            </tr>
            <tr>
                <th scope="row">Meggings</th>
                <td>Freegan</td>
                <td>Retro biodiesel</td>
                <td>Slow-carb</td>
            </tr>
            <tr>
                <th scope="row">Vegan</th>
                <td>Occupy</td>
                <td>Normcore</td>
                <td>Put a bird on it</td>
            </tr>
            <tr>
                <th scope="row">Next level</th>
                <td>Selfies</td>
                <td>Sustainable</td>
                <td>Organic</td>
            </tr>
            <tr>
                <th scope="row">Umami</th>
                <td>Asymmetrical</td>
                <td>Keytar</td>
                <td>Craft beer</td>
            </tr>
            <tr>
                <th scope="row">Biodiesel</th>
                <td>Haven’t heard</td>
                <td>Skateboard</td>
                <td>Farm-to-table</td>
            </tr>
        </table>
    </section>

    <section class="slide prism">
        <h2>Listing Slide</h2>

        <pre style="font-size: 45px;" class="language-javascript line-numbers">
            <code>
                function wrap(value) {
                    return function () {
                        return value;
                    }
                }

                function bind(monad, f) {
                    return f(monad());
                }
            </code>
        </pre>
    </section>

    <section class="slide prism">
        <pre style="font-size: 30px;" class="language-javascript line-numbers">
            <code>
                var monad = wrap('cookie');
                bind(monad, (value) => {
                    console.info(value);
                    return wrap(value);
                });
                monad = bind(monad, (value) => {
                    return wrap({ type: value });
                });
                bind(monad, (value) => {
                    console.log(value);
                    return wrap(value);
                });
            </code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout"><a href="">Linked</a> Shout</h2>
    </section>

    <section class="slide">
        <h2 class="shout grow">Effect: Growing Shout</h2>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Effect: Shrinking Shout</h2>
    </section>

    <section class="slide">
        <figure>
            <img class="cover" src="vendors/shower-ribbon/pictures/exact.png" alt="">
            <figcaption class="white">Copyright © 2016 <a href="">Yours Truly</a>, Famous Inc.</figcaption>
        </figure>
    </section>

    <section class="slide">
        <img class="cover" src="vendors/shower-ribbon/pictures/tall.png" alt="">
    </section>

    <section class="slide">
        <img class="cover" src="vendors/shower-ribbon/pictures/wide.png" alt="">
    </section>

    <section class="slide white">
        <img class="place top left" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place top" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place top right" src="vendors/shower-ribbon/pictures/square.png" alt="">

        <img class="place left" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place right" src="vendors/shower-ribbon/pictures/square.png" alt="">

        <img class="place bottom left" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place bottom" src="vendors/shower-ribbon/pictures/square.png" alt="">
        <img class="place bottom right" src="vendors/shower-ribbon/pictures/square.png" alt="">
    </section>

    <section class="slide" data-timing="00:03">
        <h3 class="shout">Automatic switch slide after <strong>3 secs</strong> ...</h3>
    </section>

    <section class="slide">
        <h3 class="shout">See you next month at WarsawJS</h3>
    </section>

    <div class="progress"></div>

    <footer class="badge">
        <a href="https://github.com/norbertes/warsawjs-ng2-first-steps">Fork me on GitHub</a>
    </footer>

    <footer class="badge badge-down">
        <a href="#" class="fullscreen">Fullscreen</a>
    </footer>

    <script src="vendors/gamepad/gamepad.js"></script>
    <script src="vendors/shower/shower.min.js"></script>
    <script src="vendors/shower-gamepad/shower.gamepad.js"></script>
    <script src="modules/fullscreen.js"></script>

    <!-- Prism.js -->
    <script src="vendors/prism/prism.js"></script>
    <script src="vendors/prism/custom-prism.js"></script>
</body>
</html>
